{% extends 'admin_head.html' %}
{% load static staticfiles %}
{% block title %}
用户管理
{% endblock %}



 {% block css %}
<link rel="stylesheet" href="{% static 'assets/css/amazeui.css' %}"  media="all">
{% endblock %}

{% block js %}
<script src="{% static 'assets/js/amazeui.js' %}" charset="utf-8"></script>
<script src="{% static 'html/js/jquery-1.8.3.min.js' %}"></script>
{% endblock %}
{% block body %}


<table class="am-table am-table-bordered am-text-center am-table-hover am-table-centered  am-text-middle ">
  <colgroup>
    <col>
  </colgroup>
  <thead>
    <tr>
      <th>ID</th>
      <th>账号</th>
      <th>姓名</th>
      <th>电话号码</th>
      <th>性别</th>
      <th>管理员</th>
      <th>状态</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
   {% for i in User %}
    <tr>
<div  id="a" >
      <td >{{ i.id }}</td>
      <td>{{ i.username }}</td>
      <td>{{ i.profile.name }}</td>
      <td>{{ i.profile.Phone }}</td>
      <td>{% if i.profile.sex == '1' %}男 {% else %}  女   {% endif %}</td>
      <td>{% if i.profile.BC2_admin == 1 %}管理员 {% else %}  普通用户{% endif %}</td>
      <td>{% if i.is_active == 1 %}活动 {% else %}  禁用{% endif %}</td>
      <td>
      <button type="button" class="am-btn am-btn-default   ">修改</button>
    <a data-id="{{ i.id }}" href="#"></a><button type="button" class="am-btn am-btn-danger doc-confirm-toggle" id="doc-confirm-toggle">删除</button></i>
      </td>
    </div>
    </tr>
  {% endfor %}
  </tbody>
</table>



<div class="am-modal am-modal-confirm" tabindex="-1" id="my-confirm">
  <div class="am-modal-dialog">
    <div class="am-modal-hd">Amaze UI</div>
    <div class="am-modal-bd">
      你，确定要删除这条记录吗？
        <br>
    是删除逻辑删除，不是真正的删除。
    </div>
    <div class="am-modal-footer">
      <span class="am-modal-btn" data-am-modal-cancel>取消</span>
      <span class="am-modal-btn am-modal-actions-danger " data-am-modal-confirm>确定</span>
    </div>
  </div>
</div>
<script src="{% static 'assets/js/amazeui.js' %}" charset="utf-8"></script>
<script>

$(function() {
  $('.doc-modal-list').find('.am-icon-close').add('.doc-confirm-toggle').
    on('click', function() {
      $('#my-confirm').modal({
        relatedTarget: this,
        onConfirm: function(options) {
          var $link = $(this.relatedTarget).prev('a');
          var msg = $link.length ? '' + $link.data('id') :
            '';console.log(msg)
        },
        onCancel: function() {


        }
      });
    });
});
</script>
{% endblock %}